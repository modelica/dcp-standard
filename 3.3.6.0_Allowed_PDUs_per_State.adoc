==== Allowed PDUs per State

Table 63 defines the allowed PDUs per state. If a PDU is not allowed within a certain state, e.g. a +RSP_nack+ PDU including an +error_code+ may be sent. Alternatively, the DCP slave may also go to an +ERROR+ state.

The following table specifies the permissible PDUs to be sent or received for each state.


.Allowed PDUs per State
[width="50%", cols=">,>,>,>,>,>,>,>,>,>,>,>,>,>,>,>,>,>,>,>", options="header" ]
|===

|[small]#PDUs#
|[small]#ALIVE#
|[small]#CONFIGURATION#
|[small]#PREPARING#
|[small]#PREPARED#
|[small]#CONFIGURING#
|[small]#CONFIGURED#
|[small]#INITIALIZING#
|[small]#INITIALIZED#
|[small]#SENDING_I#
|[small]#SYNCHRONIZING#
|[small]#SYNCHRONIZED#
|[small]#RUNNING#
|[small]#COMPUTING#
|[small]#COMPUTED#
|[small]#SENDING_D#
|[small]#STOPPING#
|[small]#STOPPED#
|[small]#ERRORHANDLING#
|[small]#ERRORRESOLVED#



<|[small]#STC_register#
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#STC_deregister#
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
^|[small]#R#
|
^|[small]#R#
<|[small]#STC_prepare#
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#STC_configure#
|
|
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#STC_initialize#
|
|
|
|
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#STC_run#
|
|
|
|
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#STC_do_step#
|
|
|
|
|
|
|
|
|
|
|
^|[small]#1#
|
|
|
|
|
|
|
<|[small]#STC_send_outputs#
|
|
|
|
|
|
|
^|[small]#R#
|
|
|
|
|
^|[small]#1#
|
|
|
|
|
<|[small]#STC_stop#
|
|
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
|
|
|
|
<|[small]#STC_reset#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
^|[small]#R#
|
^|[small]#R#
<|[small]#RSP_ack#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
<|[small]#RSP_nack#
^|[small]#S#
|[small]#S#
^|[small]#S#
|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
<|[small]#RSP_state_ack#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
<|[small]#RSP_error_ack#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
^|[small]#S#
^|[small]#S#
<|[small]#RSP_log_ack#
|
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
<|[small]#NTF_state_changed#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
<|[small]#NTF_log#
|
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#
^|[small]#S#

<|[small]#INF_state#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
<|[small]#INF_error#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
^|[small]#R#
^|[small]#R#
<|[small]#INF_log#
|
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#R#
<|[small]#CFG_steps#
^|
^|[small]#2#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#CFG_time_res#
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#CFG_input#
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#CFG_output#
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#CFG_clear#
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#CFG_target_network_information#
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#CFG_source_network_information#
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#CFG_tunable_parameter#
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#CFG_parameter#
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#CFG_param_network_information#
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#CFG_logging#
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#CFG_scope#
|
^|[small]#R#
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
<|[small]#DAT_input_output#
|
|
|
|
|
^|[small]#R#
^|[small]#3#
^|[small]#R#
^|[small]#6#
^|[small]#6#
^|[small]#6#
^|[small]#6#
^|[small]#6#
^|[small]#6#
^|[small]#7#
^|[small]#4#
^|[small]#4#
^|[small]#4#
^|[small]#4#
<|[small]#DAT_parameter#
|
|
|
|
|
^|[small]#R#
^|[small]#R#
^|[small]#R#
^|[small]#5#
^|[small]#5#
^|[small]#5#
^|[small]#5#
^|[small]#5#
^|[small]#5#
^|[small]#5#
^|[small]#4#
^|[small]#4#
^|[small]#4#
^|[small]#4#
|===

The literals in the previous table have the following meaning:

.Key for allowed PDUs per state
[width="100%", cols="1,5" options="header"]
|===
|Literal
|Meaning

|S |Sending of this PDU is allowed

|R
|Receiving of this PDU is allowed

|X
|Sending and receiving of this PDU is allowed

|1
|Receiving is only allowed in non-real time operating mode

|2
|Receiving is only allowed in real time and soft real time operating mode

|3
|A slave may receive DAT_input_output in this state, but the receiver might not consider them till it changes to INITIALIZING or RUNNING. The values from the most recent data PDU are used for internal computation. As soon as it has finished its internal computation and just before the state is left, the current output values are sent in a DAT_input_output.

|4
|Receiving of data PDUs is allowed, but the received data is not considered.

NOTE: Example: this might happen in case of slave to slave data transfer. The master might have sent STC_stop to a slave which receives DAT_input_output from a slave which is still in state RUNNING.

|5
|A slave may receive DAT_parameter in this state.
DAT_parameter must only contain parameters with variability tunable.

* In NRT mode, the received values must not be considered until the DCP slave changes to COMPUTING. The values from the most recent data PDU are used for internal computation.

* In SRT or HRT mode the values from the most recent data PDU are used for internal computation.

|6
a|A slave may receive DAT_input_output in this state.

* In NRT mode, the received values must not be considered until the DCP slave changes to COMPUTING. The values from the most recent data PDU are used for internal computation.

* In SRT or HRT mode the values from the most recent data PDU are used for internal computation. Sending of DAT_input_output is also allowed.

|7
|Same as 6, excluding SRT and HRT cases.
Additionally, sending of DAT_input_output is also allowed.
|===
